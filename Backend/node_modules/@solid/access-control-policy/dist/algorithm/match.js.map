{"version":3,"file":"match.js","sourceRoot":"","sources":["../../src/algorithm/match.ts"],"names":[],"mappings":";;;AAEA,+CAA2C;AAC3C,iDAA6C;AAC7C,iDAA6C;AAC7C,yCAAqC;AAErC;;;;;;;;;;GAUG;AACH,SAAgB,KAAK,CAAC,OAAiB,EAAE,OAAiB;IACxD,IACE,OAAO,CAAC,KAAK,CAAC,MAAM;QAClB,OAAO,CAAC,MAAM,CAAC,MAAM;QACrB,OAAO,CAAC,MAAM,CAAC,MAAM;QACrB,OAAO,CAAC,EAAE,CAAC,MAAM;QACnB,CAAC,EACD;QACA,OAAO,CACL,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,IAAA,wBAAU,EAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAC5D,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,IAAA,0BAAW,EAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAC9D,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,IAAA,0BAAW,EAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAC9D,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,KAAK,CAAC,IAAI,IAAA,kBAAO,EAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CACvD,CAAC;KACH;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AAhBD,sBAgBC","sourcesContent":["import type { IContext } from \"../type/i_context\";\nimport type { IMatcher } from \"../type/i_matcher\";\nimport { matchAgent } from \"./match_agent\";\nimport { matchClient } from \"./match_client\";\nimport { matchIssuer } from \"./match_issuer\";\nimport { matchVc } from \"./match_vc\";\n\n/**\n * The match algorithm\n *\n * The context matches if:\n * - At least one matching attribute is defined; and\n * - Every defined attribute matches the context.\n *\n * @param matcher The matcher to evaluate\n * @param context The context in which the matcher is evaluated\n * @returns True if the context matches, false otherwise\n */\nexport function match(matcher: IMatcher, context: IContext): boolean {\n  if (\n    matcher.agent.length +\n      matcher.client.length +\n      matcher.issuer.length +\n      matcher.vc.length >\n    0\n  ) {\n    return (\n      (matcher.agent.length === 0 || matchAgent(matcher, context)) &&\n      (matcher.client.length === 0 || matchClient(matcher, context)) &&\n      (matcher.issuer.length === 0 || matchIssuer(matcher, context)) &&\n      (matcher.vc.length === 0 || matchVc(matcher, context))\n    );\n  }\n  return false;\n}\n"]}