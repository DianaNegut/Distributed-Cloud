{"version":3,"file":"JsonInteractionHandler.js","sourceRoot":"","sources":["../../../src/identity/interaction/JsonInteractionHandler.ts"],"names":[],"mappings":";;;AAEA,mEAAgE;AAkChE;;;GAGG;AACH,MAAsB,sBACpB,SAAQ,2BAAmE;CAAG;AADhF,wDACgF","sourcesContent":["import type { RepresentationMetadata } from '../../http/representation/RepresentationMetadata';\nimport type { ResourceIdentifier } from '../../http/representation/ResourceIdentifier';\nimport { AsyncHandler } from '../../util/handlers/AsyncHandler';\nimport type { Json } from '../../util/Json';\nimport type { Interaction } from './InteractionHandler';\nimport type { JsonRepresentation } from './InteractionUtil';\nimport Dict = NodeJS.Dict;\n\nexport interface JsonInteractionHandlerInput {\n  /**\n   * The operation to execute.\n   */\n  method: string;\n  /**\n   * The resource that is being targeted.\n   */\n  target: ResourceIdentifier;\n  /**\n   * The JSON body of the request.\n   */\n  json: unknown;\n  /**\n   * The metadata of the request.\n   */\n  metadata: RepresentationMetadata;\n  /**\n   * Will be defined if the OIDC library expects us to resolve an interaction it can't handle itself,\n   * such as logging a user in.\n   */\n  oidcInteraction?: Interaction;\n  /**\n   * The account id of the agent doing the request if one could be found.\n   */\n  accountId?: string;\n}\n\n/**\n * A handler that consumes and returns a JSON object,\n * designed to be used for IDP/OIDC interactions.\n */\nexport abstract class JsonInteractionHandler<TOut extends Dict<Json> = Dict<Json>>\n  extends AsyncHandler<JsonInteractionHandlerInput, JsonRepresentation<TOut>> {}\n"]}