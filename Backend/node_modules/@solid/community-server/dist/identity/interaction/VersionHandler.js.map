{"version":3,"file":"VersionHandler.js","sourceRoot":"","sources":["../../../src/identity/interaction/VersionHandler.ts"],"names":[],"mappings":";;;AAEA,qEAAkE;AAElE,MAAM,oBAAoB,GAAG,KAAK,CAAC;AAEnC;;;GAGG;AACH,MAAa,cAAe,SAAQ,+CAAsB;IACvC,MAAM,CAAyB;IAEhD,YAAmB,MAA8B;QAC/C,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,KAAkC;QACvD,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,KAAkC;QACpD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC/C,MAAM,CAAC,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC;QAC3C,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAjBD,wCAiBC","sourcesContent":["import type { JsonRepresentation } from './InteractionUtil';\nimport type { JsonInteractionHandlerInput } from './JsonInteractionHandler';\nimport { JsonInteractionHandler } from './JsonInteractionHandler';\n\nconst INTERNAL_API_VERSION = '0.5';\n\n/**\n * Adds the current version of the API to the JSON output.\n * This version number should be updated every time the API changes.\n */\nexport class VersionHandler extends JsonInteractionHandler {\n  private readonly source: JsonInteractionHandler;\n\n  public constructor(source: JsonInteractionHandler) {\n    super();\n    this.source = source;\n  }\n\n  public async canHandle(input: JsonInteractionHandlerInput): Promise<void> {\n    await this.source.canHandle(input);\n  }\n\n  public async handle(input: JsonInteractionHandlerInput): Promise<JsonRepresentation> {\n    const result = await this.source.handle(input);\n    result.json.version = INTERNAL_API_VERSION;\n    return result;\n  }\n}\n"]}