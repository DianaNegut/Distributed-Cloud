{"version":3,"file":"AccountStore.js","sourceRoot":"","sources":["../../../../../src/identity/interaction/account/util/AccountStore.ts"],"names":[],"mappings":";;;AAQA;;GAEG;AACU,QAAA,+BAA+B,GAAG,eAAe,CAAC","sourcesContent":["import type {\n  IndexObject,\n  StringKey,\n  TypeObject,\n  ValueTypeDescription,\n} from '../../../../storage/keyvalue/IndexedStorage';\nimport type { ACCOUNT_TYPE } from './LoginStorage';\n\n/**\n * Settings parameter used to determine if the user wants the login to be remembered.\n */\nexport const ACCOUNT_SETTINGS_REMEMBER_LOGIN = 'rememberLogin';\n\nexport type GenericAccountSettings = Record<string, ValueTypeDescription<typeof ACCOUNT_TYPE> & `${string}?`>;\n\n/**\n * The index type description of the minimal account settings.\n */\nexport type MinimalAccountSettings = { [ACCOUNT_SETTINGS_REMEMBER_LOGIN]: 'boolean?' };\n\n/**\n * The JS object representation of the minimal account settings.\n */\nexport type AccountSettings = IndexObject<MinimalAccountSettings>;\n\n/**\n * Used to store account data.\n */\nexport interface AccountStore<TSettings extends GenericAccountSettings = MinimalAccountSettings> {\n  /**\n   * Creates a new and empty account.\n   * Since this account will not yet have a login method,\n   * implementations should restrict what is possible with this account,\n   * and should potentially have something in place to clean these accounts up if they are unused.\n   */\n  create: () => Promise<string>;\n\n  /**\n   * Finds the setting of the account with the given identifier.\n   * Returns undefined if there is no matching account.\n   *\n   * @param id - The account identifier.\n   * @param setting - The setting to find the value of.\n   */\n  getSetting: <TKey extends keyof TSettings>(id: string, setting: TKey)\n  => Promise<TypeObject<TSettings>[TKey] | undefined>;\n\n  /**\n   * Updates the settings for the account with the given identifier to the new values.\n   *\n   * @param id - The account identifier.\n   * @param setting - The setting to update.\n   * @param value - The new value for the setting.\n   */\n  updateSetting: <TKey extends StringKey<TSettings>>(id: string, setting: TKey, value: TypeObject<TSettings>[TKey])\n  => Promise<void>;\n}\n"]}