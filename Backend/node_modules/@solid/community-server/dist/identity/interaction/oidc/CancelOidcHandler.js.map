{"version":3,"file":"CancelOidcHandler.js","sourceRoot":"","sources":["../../../../src/identity/interaction/oidc/CancelOidcHandler.ts"],"names":[],"mappings":";;;AAAA,wEAAqE;AACrE,wDAA8E;AAG9E,sEAAmE;AAEnE;;GAEG;AACH,MAAa,iBAAkB,SAAQ,+CAA6B;IAC3D,KAAK,CAAC,MAAM,CAAC,EAAE,eAAe,EAA+B;QAClE,IAAA,uCAAqB,EAAC,eAAe,CAAC,CAAC;QACvC,MAAM,KAAK,GAAG;YACZ,KAAK,EAAE,eAAe;YACtB,gDAAgD;YAChD,iBAAiB,EAAE,iCAAiC;SACrD,CAAC;QAEF,MAAM,QAAQ,GAAG,MAAM,IAAA,mCAAiB,EAAC,eAAe,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QAExE,MAAM,IAAI,+BAAc,CAAC,QAAQ,CAAC,CAAC;IACrC,CAAC;CACF;AAbD,8CAaC","sourcesContent":["import { FoundHttpError } from '../../../util/errors/FoundHttpError';\nimport { assertOidcInteraction, finishInteraction } from '../InteractionUtil';\nimport type { JsonRepresentation } from '../InteractionUtil';\nimport type { JsonInteractionHandlerInput } from '../JsonInteractionHandler';\nimport { JsonInteractionHandler } from '../JsonInteractionHandler';\n\n/**\n * Cancel an active OIDC interaction.\n */\nexport class CancelOidcHandler extends JsonInteractionHandler<never> {\n  public async handle({ oidcInteraction }: JsonInteractionHandlerInput): Promise<JsonRepresentation<never>> {\n    assertOidcInteraction(oidcInteraction);\n    const error = {\n      error: 'access_denied',\n      // eslint-disable-next-line ts/naming-convention\n      error_description: 'User cancelled the interaction.',\n    };\n\n    const location = await finishInteraction(oidcInteraction, error, false);\n\n    throw new FoundHttpError(location);\n  }\n}\n"]}