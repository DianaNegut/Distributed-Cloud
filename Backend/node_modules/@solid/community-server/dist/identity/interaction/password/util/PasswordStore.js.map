{"version":3,"file":"PasswordStore.js","sourceRoot":"","sources":["../../../../../src/identity/interaction/password/util/PasswordStore.ts"],"names":[],"mappings":";;;AAAA;;GAEG;AACU,QAAA,eAAe,GAAG,UAAU,CAAC","sourcesContent":["/**\n * The constant used to identify email/password based login combinations in the map of logins an account has.\n */\nexport const PASSWORD_METHOD = 'password';\n\n/**\n * Responsible for storing everything related to email/password based login combinations.\n */\nexport interface PasswordStore {\n  /**\n   * Creates a new login entry for this account.\n   *\n   * @param email - Email to log in with.\n   * @param accountId - Account ID.\n   * @param password - Password to authenticate with.\n   */\n  create: (email: string, accountId: string, password: string) => Promise<string>;\n\n  /**\n   * Finds the account and email associated with this login ID.\n   *\n   * @param id - The ID of the login object.\n   */\n  get: (id: string) => Promise<{ email: string; accountId: string } | undefined>;\n\n  /**\n   * Finds the account and login ID associated with this email.\n   *\n   * @param email - Email to find the information for.\n   */\n  findByEmail: (email: string) => Promise<{ accountId: string; id: string } | undefined>;\n\n  /**\n   * Find all login objects created by this account.\n   *\n   * @param accountId - ID of the account to find the logins for.\n   */\n  findByAccount: (accountId: string) => Promise<{ id: string; email: string }[]>;\n\n  /**\n   * Confirms that the login has been verified.\n   * This can be used with, for example, email verification.\n   * The login can only be used after it is verified.\n   * In case verification is not required, this should be called immediately after the `create` call.\n   *\n   * @param id - ID of the login.\n   */\n  confirmVerification: (id: string) => Promise<void>;\n\n  /**\n   * Authenticate if the email and password are correct and return the account and login ID if they are.\n   * Throw an error if they are not.\n   *\n   * @param email - The user's email.\n   * @param password - This user's password.\n   */\n  authenticate: (email: string, password: string) => Promise<{ accountId: string; id: string }>;\n\n  /**\n   * Changes the password.\n   *\n   * @param id - ID of the login object.\n   * @param password - The new password.\n   */\n  update: (id: string, password: string) => Promise<void>;\n\n  /**\n   * Delete the login entry.\n   *\n   * @param id - ID of the login object.\n   */\n  delete: (id: string) => Promise<void>;\n}\n"]}