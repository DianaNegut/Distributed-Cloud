{"version":3,"file":"PodStore.js","sourceRoot":"","sources":["../../../../../src/identity/interaction/pod/util/PodStore.ts"],"names":[],"mappings":"","sourcesContent":["import type { PodSettings } from '../../../../pods/settings/PodSettings';\n\n/**\n * Can be used to create new pods and find relevant information.\n * Also keeps track of the owners of a pod.\n * The `visible` parameter indicates if an owner should be publicly exposed or not.\n */\nexport interface PodStore {\n  /**\n   * Creates a new pod and updates the account accordingly.\n   *\n   * @param accountId - Identifier of the account that is creating the account.\n   * @param settings - Settings to create a pod with.\n   * @param overwrite - If the pod is allowed to overwrite existing data.\n   *\n   * @returns The ID of the new pod resource.\n   */\n  create: (accountId: string, settings: PodSettings, overwrite: boolean) => Promise<string>;\n\n  /**\n   * Returns the baseURl and account that created the pod for the given pod ID.\n   *\n   * @param id - ID of the pod.\n   */\n  get: (id: string) => Promise<{ baseUrl: string; accountId: string } | undefined>;\n\n  /**\n   * Find the ID of the account that created the given pod.\n   *\n   * @param baseUrl - The pod base URL.\n   */\n  findByBaseUrl: (baseUrl: string) => Promise<{ id: string; accountId: string } | undefined>;\n\n  /**\n   * Find all the pod resources created by the given account ID.\n   *\n   * @param accountId - Account ID to find pod resources for.\n   */\n  findPods: (accountId: string) => Promise<{ id: string; baseUrl: string }[]>;\n\n  /**\n   * Find all owners for the given pod ID.\n   *\n   * @param id - ID of the pod.\n   */\n  getOwners: (id: string) => Promise<{ webId: string; visible: boolean }[] | undefined>;\n\n  /**\n   * Add or update an owner of a pod.\n   * In case there already is an owner with this WebID, it will be updated,\n   * otherwise a new owner will be added.\n   *\n   * @param id - ID of the pod.\n   * @param webId - WebID of the owner.\n   * @param visible - Whether the owner wants to be exposed or not.\n   */\n  updateOwner: (id: string, webId: string, visible: boolean) => Promise<void>;\n\n  /**\n   * Remove an owner from a pod.\n   * This should not remove the last owner as a pod always needs to have at least one owner.\n   * https://solidproject.org/TR/2022/protocol-20221231#server-storage-track-owner\n   *\n   * @param id - ID of the pod.\n   * @param webId - WebID of the owner.\n   */\n  removeOwner: (id: string, webId: string) => Promise<void>;\n}\n"]}