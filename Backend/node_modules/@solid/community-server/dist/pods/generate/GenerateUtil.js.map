{"version":3,"file":"GenerateUtil.js","sourceRoot":"","sources":["../../../src/pods/generate/GenerateUtil.ts"],"names":[],"mappings":";;AAaA,sDAYC;AArBD;;;;;;;;GAQG;AACI,KAAK,UAAU,qBAAqB,CACzC,QAAqB,EACrB,SAA6B,EAC7B,KAAoB;IAEpB,MAAM,SAAS,GAAG,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC9D,IAAI,KAAK,GAAG,CAAC,CAAC;IACd,IAAI,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,cAAc,EAAE,IAAI,SAAS,EAAE,CAAC;QACzE,MAAM,KAAK,CAAC,iBAAiB,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;QAC1D,KAAK,IAAI,CAAC,CAAC;IACb,CAAC;IACD,OAAO,KAAK,CAAC;AACf,CAAC","sourcesContent":["import type { ResourceStore } from '../../storage/ResourceStore';\nimport type { PodSettings } from '../settings/PodSettings';\nimport type { ResourcesGenerator } from './ResourcesGenerator';\n\n/**\n * Generates resources with the given generator and adds them to the given store.\n *\n * @param settings - Settings from which the pod is being created.\n * @param generator - Generator to be used.\n * @param store - Store to be updated.\n *\n * @returns The amount of resources that were added.\n */\nexport async function addGeneratedResources(\n  settings: PodSettings,\n  generator: ResourcesGenerator,\n  store: ResourceStore,\n): Promise<number> {\n  const resources = generator.generate(settings.base, settings);\n  let count = 0;\n  for await (const { identifier: resourceId, representation } of resources) {\n    await store.setRepresentation(resourceId, representation);\n    count += 1;\n  }\n  return count;\n}\n"]}