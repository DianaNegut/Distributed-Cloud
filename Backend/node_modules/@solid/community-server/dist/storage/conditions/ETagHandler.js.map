{"version":3,"file":"ETagHandler.js","sourceRoot":"","sources":["../../../src/storage/conditions/ETagHandler.ts"],"names":[],"mappings":"","sourcesContent":["import type { RepresentationMetadata } from '../../http/representation/RepresentationMetadata';\n\n/**\n * Responsible for everything related to ETag generation and comparison.\n * ETags are constructed in such a way they can both be used for the standard ETag usage of comparing representations,\n * but also to see if two ETags of different representations correspond to the same resource state.\n */\nexport interface ETagHandler {\n  /**\n   * Generates an ETag for the given metadata. Returns undefined if no ETag could be generated.\n   *\n   * @param metadata - Metadata of the representation to generate an ETag for.\n   */\n  getETag: (metadata: RepresentationMetadata) => string | undefined;\n\n  /**\n   * Validates whether the given metadata corresponds to the given ETag.\n   *\n   * @param metadata - Metadata of the resource.\n   * @param eTag - ETag to compare to.\n   * @param strict - True if the comparison needs to be on representation level.\n   *                 False if it is on resource level and the content-type doesn't matter.\n   */\n  matchesETag: (metadata: RepresentationMetadata, eTag: string, strict: boolean) => boolean;\n\n  /**\n   * Validates whether 2 ETags correspond to the same state of a resource,\n   * independent of the representation the ETags correspond to.\n   *\n   * @param eTag1 - First ETag to compare.\n   * @param eTag2 - Second ETag to compare.\n   */\n  sameResourceState: (eTag1: string, eTag2: string) => boolean;\n}\n"]}