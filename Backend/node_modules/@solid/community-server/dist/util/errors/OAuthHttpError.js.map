{"version":3,"file":"OAuthHttpError.js","sourceRoot":"","sources":["../../../src/util/errors/OAuthHttpError.ts"],"names":[],"mappings":";;;AACA,2CAAwC;AAiBxC;;;;GAIG;AACH,MAAa,cAAe,SAAQ,qBAAS;IAC3B,eAAe,CAAmB;IAElD,YACE,eAAiC,EACjC,IAAa,EACb,UAAmB,EACnB,OAAgB,EAChB,OAA0B;QAE1B,KAAK,CAAC,UAAU,IAAI,GAAG,EAAE,IAAI,IAAI,gBAAgB,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QACrE,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;IACzC,CAAC;IAEM,MAAM,CAAC,UAAU,CAAC,KAAc;QACrC,OAAO,qBAAS,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,OAAO,CAAE,KAAwB,CAAC,eAAe,CAAC,CAAC;IAC3F,CAAC;CACF;AAjBD,wCAiBC","sourcesContent":["import type { HttpErrorOptions } from './HttpError';\nimport { HttpError } from './HttpError';\n\n/**\n * These are the fields that can occur in an OAuth error response as described in RFC 6749, ยง4.1.2.1.\n * https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2.1\n *\n * This interface is identical to the ErrorOut interface of the `oidc-provider` library,\n * but having our own version reduces the part of the codebase that is dependent on that library.\n */\nexport interface OAuthErrorFields {\n  error: string;\n  // eslint-disable-next-line ts/naming-convention\n  error_description?: string | undefined;\n  scope?: string | undefined;\n  state?: string | undefined;\n}\n\n/**\n * Represents on OAuth error that is being thrown.\n * OAuth error responses have additional fields that need to be present in the JSON response,\n * as described in RFC 6749, ยง4.1.2.1.\n */\nexport class OAuthHttpError extends HttpError {\n  public readonly mandatoryFields: OAuthErrorFields;\n\n  public constructor(\n    mandatoryFields: OAuthErrorFields,\n    name?: string,\n    statusCode?: number,\n    message?: string,\n    options?: HttpErrorOptions,\n  ) {\n    super(statusCode ?? 500, name ?? 'OAuthHttpError', message, options);\n    this.mandatoryFields = mandatoryFields;\n  }\n\n  public static isInstance(error: unknown): error is OAuthHttpError {\n    return HttpError.isInstance(error) && Boolean((error as OAuthHttpError).mandatoryFields);\n  }\n}\n"]}