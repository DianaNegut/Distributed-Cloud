{"version":3,"file":"HandlebarsTemplateEngine.js","sourceRoot":"","sources":["../../../src/util/templates/HandlebarsTemplateEngine.ts"],"names":[],"mappings":";;;AAAA,2CAAqC;AACrC,iFAA8E;AAE9E,iDAA8C;AAG9C;;GAEG;AACH,MAAa,wBAAkE,SAAQ,2DAA+B;IACnG,OAAO,CAAS;IAEjC;;;OAGG;IACH,YAAmB,OAAe,EAAE,mBAAmB,GAAG,CAAE,KAAK,CAAE;QACjE,KAAK,CAAC,mBAAmB,CAAC,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAA0B;QAChE,MAAM,aAAa,GAAG,IAAA,oBAAO,EAAC,MAAM,IAAA,2BAAY,EAAC,QAAQ,CAAC,CAAC,CAAC;QAC5D,OAAO,aAAa,CAAC,EAAE,GAAG,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IAC/D,CAAC;CACF;AAhBD,4DAgBC","sourcesContent":["import { compile } from 'handlebars';\nimport { ExtensionBasedTemplateEngine } from './ExtensionBasedTemplateEngine';\nimport type { TemplateEngineInput } from './TemplateEngine';\nimport { readTemplate } from './TemplateUtil';\nimport Dict = NodeJS.Dict;\n\n/**\n * Fills in Handlebars templates.\n */\nexport class HandlebarsTemplateEngine<T extends Dict<unknown> = Dict<unknown>> extends ExtensionBasedTemplateEngine<T> {\n  private readonly baseUrl: string;\n\n  /**\n   * @param baseUrl - Base URL of the server.\n   * @param supportedExtensions - The extensions that are supported by this template engine (defaults to 'hbs').\n   */\n  public constructor(baseUrl: string, supportedExtensions = [ 'hbs' ]) {\n    super(supportedExtensions);\n    this.baseUrl = baseUrl;\n  }\n\n  public async handle({ contents, template }: TemplateEngineInput<T>): Promise<string> {\n    const applyTemplate = compile(await readTemplate(template));\n    return applyTemplate({ ...contents, baseUrl: this.baseUrl });\n  }\n}\n"]}