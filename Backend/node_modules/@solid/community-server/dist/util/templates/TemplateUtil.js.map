{"version":3,"file":"TemplateUtil.js","sourceRoot":"","sources":["../../../src/util/templates/TemplateUtil.ts"],"names":[],"mappings":";;AAQA,kDAYC;AAKD,oCAOC;AAhCD,qCAAiD;AACjD,0CAA6D;AAG7D;;;GAGG;AACH,SAAgB,mBAAmB,CAAC,QAAmB;IACrD,6CAA6C;IAC7C,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE,CAAC;QACjC,OAAO,mBAAmB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,CAAC,CAAC;IACzD,CAAC;IACD,mEAAmE;IACnE,IAAI,CAAC,QAAQ,IAAI,gBAAgB,IAAI,QAAQ,EAAE,CAAC;QAC9C,OAAO;IACT,CAAC;IACD,MAAM,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,QAAQ,CAAC;IAChD,MAAM,gBAAgB,GAAG,YAAY,CAAC,CAAC,CAAC,IAAA,uBAAY,EAAC,YAAY,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;IAChG,OAAO,IAAA,2BAAgB,EAAC,gBAAgB,CAAC,CAAC;AAC5C,CAAC;AAED;;GAEG;AACI,KAAK,UAAU,YAAY,CAAC,QAAmB;IACpD,kDAAkD;IAClD,IAAI,OAAO,QAAQ,KAAK,WAAW,IAAI,CAAC,OAAO,QAAQ,KAAK,QAAQ,IAAI,gBAAgB,IAAI,QAAQ,CAAC,EAAE,CAAC;QACtG,OAAO,QAAQ,EAAE,cAAc,IAAI,EAAE,CAAC;IACxC,CAAC;IACD,0CAA0C;IAC1C,OAAO,kBAAU,CAAC,QAAQ,CAAC,mBAAmB,CAAC,QAAQ,CAAE,EAAE,MAAM,CAAC,CAAC;AACrE,CAAC","sourcesContent":["import { promises as fsPromises } from 'node:fs';\nimport { joinFilePath, resolveAssetPath } from '../PathUtil';\nimport type { Template } from './TemplateEngine';\n\n/**\n * Returns the absolute path to the template.\n * Returns undefined if the input does not contain a file path.\n */\nexport function getTemplateFilePath(template?: Template): string | undefined {\n  // The template has been passed as a filename\n  if (typeof template === 'string') {\n    return getTemplateFilePath({ templateFile: template });\n  }\n  // The template has already been given as a string so no known path\n  if (!template || 'templateString' in template) {\n    return;\n  }\n  const { templateFile, templatePath } = template;\n  const fullTemplatePath = templatePath ? joinFilePath(templatePath, templateFile) : templateFile;\n  return resolveAssetPath(fullTemplatePath);\n}\n\n/**\n * Reads the template and returns it as a string.\n */\nexport async function readTemplate(template?: Template): Promise<string> {\n  // The template has already been given as a string\n  if (typeof template === 'undefined' || (typeof template === 'object' && 'templateString' in template)) {\n    return template?.templateString ?? '';\n  }\n  // The template needs to be read from disk\n  return fsPromises.readFile(getTemplateFilePath(template)!, 'utf8');\n}\n"]}